<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ€ç»ˆåŠŸèƒ½éªŒè¯æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .test-section h2 {
            color: #333;
            margin-bottom: 15px;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .test-button.success {
            background: #28a745;
        }
        .test-button.error {
            background: #dc3545;
        }
        .log {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin-top: 15px;
            max-height: 300px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 14px;
        }
        .log-entry {
            margin-bottom: 5px;
            padding: 2px 0;
        }
        .log-entry.success {
            color: #28a745;
        }
        .log-entry.error {
            color: #dc3545;
        }
        .log-entry.info {
            color: #007bff;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-weight: bold;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ® æœ€ç»ˆåŠŸèƒ½éªŒè¯æµ‹è¯•</h1>
        <p>æ­¤é¡µé¢ç”¨äºéªŒè¯æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ</p>

        <div class="test-section">
            <h2>ğŸ“‹ æµ‹è¯•æ¦‚è§ˆ</h2>
            <div id="testOverview" class="status info">
                å‡†å¤‡å¼€å§‹æµ‹è¯•...
            </div>
            <button class="test-button" onclick="runAllTests()">è¿è¡Œæ‰€æœ‰æµ‹è¯•</button>
            <button class="test-button" onclick="clearLog()">æ¸…ç©ºæ—¥å¿—</button>
        </div>

        <div class="test-section">
            <h2>ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•</h2>
            <button class="test-button" onclick="testCoreSystems()">æµ‹è¯•æ ¸å¿ƒç³»ç»Ÿ</button>
            <button class="test-button" onclick="testCharacterSystem()">æµ‹è¯•è§’è‰²ç³»ç»Ÿ</button>
            <button class="test-button" onclick="testCardSystem()">æµ‹è¯•å¡ç‰Œç³»ç»Ÿ</button>
            <button class="test-button" onclick="testCastingSystem()">æµ‹è¯•åŸå”±ç³»ç»Ÿ</button>
            <button class="test-button" onclick="testStealthSystem()">æµ‹è¯•æ½œè¡Œç³»ç»Ÿ</button>
            <button class="test-button" onclick="testHeroSkills()">æµ‹è¯•è‹±é›„æŠ€èƒ½</button>
        </div>

        <div class="test-section">
            <h2>ğŸ® æ¸¸æˆæœºåˆ¶æµ‹è¯•</h2>
            <button class="test-button" onclick="testGameMechanics()">æµ‹è¯•æ¸¸æˆæœºåˆ¶</button>
            <button class="test-button" onclick="testTimeBasedSystems()">æµ‹è¯•æ—¶é—´ç³»ç»Ÿ</button>
            <button class="test-button" onclick="testUIComponents()">æµ‹è¯•UIç»„ä»¶</button>
            <button class="test-button" onclick="testStatusEffects()">æµ‹è¯•çŠ¶æ€æ•ˆæœ</button>
        </div>

        <div class="test-section">
            <h2>ğŸ”§ é«˜çº§åŠŸèƒ½æµ‹è¯•</h2>
            <button class="test-button" onclick="testAdvancedFeatures()">æµ‹è¯•é«˜çº§åŠŸèƒ½</button>
            <button class="test-button" onclick="testPerformance()">æ€§èƒ½æµ‹è¯•</button>
            <button class="test-button" onclick="testErrorHandling()">é”™è¯¯å¤„ç†æµ‹è¯•</button>
        </div>

        <div class="test-section">
            <h2>ğŸ“Š æµ‹è¯•ç»“æœ</h2>
            <div id="testResults" class="status info">
                ç­‰å¾…æµ‹è¯•ç»“æœ...
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ“ æµ‹è¯•æ—¥å¿—</h2>
            <div id="testLog" class="log"></div>
        </div>
    </div>

    <!-- å¼•å…¥æ¸¸æˆè„šæœ¬ -->
    <script src="../js/Character.js"></script>
    <script src="../js/CastingSystem.js"></script>
    <script src="../js/Card.js"></script>
    <script src="../js/CardConfig.js"></script>
    <script src="../js/HeroSkill.js"></script>
    <script src="../js/BotPlayer.js"></script>
    <script src="../js/GameState.js"></script>
    <script src="../js/GameUI.js"></script>
    <script src="../js/Game.js"></script>

    <script>
        let testResults = {
            total: 0,
            passed: 0,
            failed: 0,
            tests: []
        };

        function log(message, type = 'info') {
            const logDiv = document.getElementById('testLog');
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logDiv.appendChild(entry);
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        function clearLog() {
            document.getElementById('testLog').innerHTML = '';
        }

        function updateTestResults() {
            const resultsDiv = document.getElementById('testResults');
            const successRate = testResults.total > 0 ? (testResults.passed / testResults.total * 100).toFixed(1) : 0;
            resultsDiv.innerHTML = `
                æ€»æµ‹è¯•æ•°: ${testResults.total} | 
                é€šè¿‡: ${testResults.passed} | 
                å¤±è´¥: ${testResults.failed} | 
                æˆåŠŸç‡: ${successRate}%
            `;
            resultsDiv.className = `status ${testResults.failed === 0 ? 'success' : 'error'}`;
        }

        function runTest(testName, testFunction) {
            testResults.total++;
            try {
                const result = testFunction();
                if (result) {
                    testResults.passed++;
                    log(`âœ… ${testName} - é€šè¿‡`, 'success');
                    return true;
                } else {
                    testResults.failed++;
                    log(`âŒ ${testName} - å¤±è´¥`, 'error');
                    return false;
                }
            } catch (error) {
                testResults.failed++;
                log(`âŒ ${testName} - é”™è¯¯: ${error.message}`, 'error');
                return false;
            } finally {
                updateTestResults();
            }
        }

        function testCoreSystems() {
            log('=== å¼€å§‹æµ‹è¯•æ ¸å¿ƒç³»ç»Ÿ ===', 'info');
            
            runTest('Characterç±»åˆ›å»º', () => {
                const character = new Character('æµ‹è¯•è§’è‰²', 'æˆ˜å£«');
                return character.name === 'æµ‹è¯•è§’è‰²' && character.characterClass === 'æˆ˜å£«';
            });

            runTest('GameStateç±»åˆ›å»º', () => {
                const gameState = new GameState();
                return gameState.playerCharacter && gameState.computerCharacter;
            });

            runTest('Cardç±»åˆ›å»º', () => {
                const card = new Card('æµ‹è¯•å¡ç‰Œ', 'æˆ˜å£«', 1, 0, 'ç¬å‘', 'æµ‹è¯•æ•ˆæœ');
                return card.name === 'æµ‹è¯•å¡ç‰Œ' && card.class === 'æˆ˜å£«';
            });

            runTest('CastingSystemç±»åˆ›å»º', () => {
                const castingSystem = new CastingSystem();
                return !castingSystem.isCurrentlyCasting();
            });

            log('=== æ ¸å¿ƒç³»ç»Ÿæµ‹è¯•å®Œæˆ ===', 'info');
        }

        function testCharacterSystem() {
            log('=== å¼€å§‹æµ‹è¯•è§’è‰²ç³»ç»Ÿ ===', 'info');
            
            runTest('è§’è‰²å±æ€§åˆå§‹åŒ–', () => {
                const character = new Character('æµ‹è¯•', 'æˆ˜å£«');
                return character.maxHealth === 35 && character.strength === 2;
            });

            runTest('è§’è‰²ä¼¤å®³è®¡ç®—', () => {
                const character = new Character('æµ‹è¯•', 'æˆ˜å£«');
                const damage = character.calculateDamage(10);
                return damage === 12; // åŸºç¡€ä¼¤å®³10 + å¼ºåº¦2
            });

            runTest('è§’è‰²æ²»ç–—', () => {
                const character = new Character('æµ‹è¯•', 'æˆ˜å£«');
                character.currentHealth = 20;
                character.heal(10);
                return character.currentHealth === 30;
            });

            runTest('è§’è‰²èƒ½é‡æ¶ˆè€—', () => {
                const character = new Character('æµ‹è¯•', 'æˆ˜å£«');
                character.currentEnergy = 5;
                const result = character.consumeEnergy(3);
                return result && character.currentEnergy === 2;
            });

            log('=== è§’è‰²ç³»ç»Ÿæµ‹è¯•å®Œæˆ ===', 'info');
        }

        function testCardSystem() {
            log('=== å¼€å§‹æµ‹è¯•å¡ç‰Œç³»ç»Ÿ ===', 'info');
            
            runTest('å¡ç‰Œæ•ˆæœæ‰§è¡Œ', () => {
                const card = new Card('æ‰“å‡»', 'æˆ˜å£«', 1, 0, 'ç¬å‘', 'é€ æˆ6ç‚¹ä¼¤å®³', 'DAMAGE_6', 6, 0, 0);
                const gameState = new GameState();
                const result = card.executeEffect(gameState, true);
                return result.includes('6ç‚¹ä¼¤å®³');
            });

            runTest('å¡ç‰Œèƒ½é‡æ£€æŸ¥', () => {
                const card = new Card('ç«çƒæœ¯', 'æ³•å¸ˆ', 2, 1, 'åŸå”±', 'é€ æˆ9ç‚¹ä¼¤å®³', 'DAMAGE_9', 9, 0, 0);
                return !card.canPlay(1) && card.canPlay(2);
            });

            runTest('ä¼å‡»å¡ç‰Œæ½œè¡Œæ£€æŸ¥', () => {
                const card = new Card('ä¼å‡»', 'ç›—è´¼', 2, 0, 'ç¬å‘', 'æ½œè¡ŒçŠ¶æ€ä½¿ç”¨', 'DAMAGE_15', 15, 0, 0);
                const gameState = new GameState();
                const result = card.executeEffect(gameState, true);
                return result.includes('åªèƒ½åœ¨æ½œè¡ŒçŠ¶æ€ä¸‹ä½¿ç”¨');
            });

            log('=== å¡ç‰Œç³»ç»Ÿæµ‹è¯•å®Œæˆ ===', 'info');
        }

        function testCastingSystem() {
            log('=== å¼€å§‹æµ‹è¯•åŸå”±ç³»ç»Ÿ ===', 'info');
            
            runTest('åŸå”±å¼€å§‹', () => {
                const castingSystem = new CastingSystem();
                const card = new Card('ç«çƒæœ¯', 'æ³•å¸ˆ', 1, 1, 'åŸå”±', 'é€ æˆ9ç‚¹ä¼¤å®³');
                const character = new Character('æµ‹è¯•', 'æ³•å¸ˆ');
                const result = castingSystem.startCasting(card, character, null);
                return result && castingSystem.isCurrentlyCasting();
            });

            runTest('åŸå”±è¿›åº¦', () => {
                const castingSystem = new CastingSystem();
                const card = new Card('ç«çƒæœ¯', 'æ³•å¸ˆ', 1, 1, 'åŸå”±', 'é€ æˆ9ç‚¹ä¼¤å®³');
                const character = new Character('æµ‹è¯•', 'æ³•å¸ˆ');
                castingSystem.startCasting(card, character, null);
                castingSystem.updateCasting(0.5);
                const progress = castingSystem.getCastProgress();
                return progress > 0 && progress < 1;
            });

            runTest('åŸå”±ä¸­æ–­', () => {
                const castingSystem = new CastingSystem();
                const card = new Card('ç«çƒæœ¯', 'æ³•å¸ˆ', 1, 1, 'åŸå”±', 'é€ æˆ9ç‚¹ä¼¤å®³');
                const character = new Character('æµ‹è¯•', 'æ³•å¸ˆ');
                castingSystem.startCasting(card, character, null);
                castingSystem.interruptCasting();
                return !castingSystem.isCurrentlyCasting();
            });

            log('=== åŸå”±ç³»ç»Ÿæµ‹è¯•å®Œæˆ ===', 'info');
        }

        function testStealthSystem() {
            log('=== å¼€å§‹æµ‹è¯•æ½œè¡Œç³»ç»Ÿ ===', 'info');
            
            runTest('è¿›å…¥æ½œè¡Œ', () => {
                const stealthSystem = new StealthSystem();
                const result = stealthSystem.enterStealth(10);
                return result && stealthSystem.isCurrentlyStealthed();
            });

            runTest('æ½œè¡Œæ—¶é—´æ›´æ–°', () => {
                const stealthSystem = new StealthSystem();
                stealthSystem.enterStealth(10);
                stealthSystem.updateStealth(5);
                const info = stealthSystem.getStealthInfo();
                return info.duration === 5;
            });

            runTest('æ½œè¡Œä¸­æ–­', () => {
                const stealthSystem = new StealthSystem();
                stealthSystem.enterStealth(10);
                stealthSystem.onTakeDamage(5);
                return !stealthSystem.isCurrentlyStealthed();
            });

            log('=== æ½œè¡Œç³»ç»Ÿæµ‹è¯•å®Œæˆ ===', 'info');
        }

        function testHeroSkills() {
            log('=== å¼€å§‹æµ‹è¯•è‹±é›„æŠ€èƒ½ ===', 'info');
            
            runTest('è‹±é›„æŠ€èƒ½ç®¡ç†å™¨', () => {
                const manager = new HeroSkillManager();
                const skill = manager.getSkill('æˆ˜å£«');
                return skill && skill.name === 'ç‹‚æš´';
            });

            runTest('æŠ€èƒ½å†·å´', () => {
                const skill = new BerserkerRage();
                skill.currentCooldown = 10;
                skill.update(5);
                return skill.currentCooldown === 5;
            });

            runTest('æŠ€èƒ½ä½¿ç”¨æ£€æŸ¥', () => {
                const skill = new BerserkerRage();
                const character = new Character('æµ‹è¯•', 'æˆ˜å£«');
                character.currentEnergy = 5;
                return skill.canUse(character);
            });

            log('=== è‹±é›„æŠ€èƒ½æµ‹è¯•å®Œæˆ ===', 'info');
        }

        function testGameMechanics() {
            log('=== å¼€å§‹æµ‹è¯•æ¸¸æˆæœºåˆ¶ ===', 'info');
            
            runTest('æ¸¸æˆçŠ¶æ€æ›´æ–°', () => {
                const gameState = new GameState();
                gameState.update();
                return gameState.playerHealth > 0 && gameState.computerHealth > 0;
            });

            runTest('æŠ½å¡æœºåˆ¶', () => {
                const gameState = new GameState();
                const initialHandSize = gameState.playerHand.length;
                gameState.drawCards(gameState.playerDeck, gameState.playerHand, 1, true);
                return gameState.playerHand.length === initialHandSize + 1;
            });

            runTest('æ¸¸æˆç»“æŸæ£€æŸ¥', () => {
                const gameState = new GameState();
                gameState.playerHealth = 0;
                gameState.checkGameEnd();
                return gameState.gameOver && gameState.winner === 'ç”µè„‘';
            });

            log('=== æ¸¸æˆæœºåˆ¶æµ‹è¯•å®Œæˆ ===', 'info');
        }

        function testTimeBasedSystems() {
            log('=== å¼€å§‹æµ‹è¯•æ—¶é—´ç³»ç»Ÿ ===', 'info');
            
            runTest('æŠ½å¡é—´éš”è®¡ç®—', () => {
                const character = new Character('æµ‹è¯•', 'ç›—è´¼');
                const interval = character.calculateDrawInterval(3);
                return interval < 3; // ç›—è´¼æ•æ·é«˜ï¼Œé—´éš”åº”è¯¥æ›´çŸ­
            });

            runTest('èƒ½é‡æ¢å¤è®¡ç®—', () => {
                const character = new Character('æµ‹è¯•', 'æ³•å¸ˆ');
                const regenInterval = 1.0 / character.energyRegenRate;
                return regenInterval > 0;
            });

            runTest('åŸå”±æ—¶é—´è®¡ç®—', () => {
                const character = new Character('æµ‹è¯•', 'æ³•å¸ˆ');
                const castTime = character.calculateCastTime(2);
                return castTime < 2; // æ³•å¸ˆç²¾ç¥é«˜ï¼ŒåŸå”±æ—¶é—´åº”è¯¥æ›´çŸ­
            });

            log('=== æ—¶é—´ç³»ç»Ÿæµ‹è¯•å®Œæˆ ===', 'info');
        }

        function testUIComponents() {
            log('=== å¼€å§‹æµ‹è¯•UIç»„ä»¶ ===', 'info');
            
            runTest('æ¸¸æˆä¿¡æ¯è·å–', () => {
                const gameState = new GameState();
                const info = gameState.getGameInfo();
                return info.playerHealth > 0 && info.computerHealth > 0;
            });

            runTest('å€’è®¡æ—¶è®¡ç®—', () => {
                const gameState = new GameState();
                const drawCountdown = gameState.calculateDrawCountdown(0);
                const energyCountdown = gameState.calculateEnergyCountdown();
                return drawCountdown >= 0 && energyCountdown >= 0;
            });

            log('=== UIç»„ä»¶æµ‹è¯•å®Œæˆ ===', 'info');
        }

        function testStatusEffects() {
            log('=== å¼€å§‹æµ‹è¯•çŠ¶æ€æ•ˆæœ ===', 'info');
            
            runTest('ä¸­æ¯’æ•ˆæœ', () => {
                const character = new Character('æµ‹è¯•', 'æˆ˜å£«');
                const poisonEffect = new PoisonEffect(3, 5);
                character.addStatusEffect(poisonEffect);
                return character.statusEffects.length === 1;
            });

            runTest('å‡é€Ÿæ•ˆæœ', () => {
                const character = new Character('æµ‹è¯•', 'æˆ˜å£«');
                const slowEffect = new SlowEffect(2, 3);
                character.addStatusEffect(slowEffect);
                return character.getStatusEffect('slow') === slowEffect;
            });

            runTest('çŠ¶æ€æ•ˆæœç§»é™¤', () => {
                const character = new Character('æµ‹è¯•', 'æˆ˜å£«');
                const poisonEffect = new PoisonEffect(3, 5);
                character.addStatusEffect(poisonEffect);
                character.removeStatusEffect('poison');
                return character.statusEffects.length === 0;
            });

            log('=== çŠ¶æ€æ•ˆæœæµ‹è¯•å®Œæˆ ===', 'info');
        }

        function testAdvancedFeatures() {
            log('=== å¼€å§‹æµ‹è¯•é«˜çº§åŠŸèƒ½ ===', 'info');
            
            runTest('æŠ¤ç”²ç³»ç»Ÿ', () => {
                const character = new Character('æµ‹è¯•', 'æˆ˜å£«');
                const damage = character.takeDamage(10);
                return damage >= 0;
            });

            runTest('ç”Ÿå‘½æ¶ˆè€—å¡ç‰Œ', () => {
                const card = new Card('è¡€ç¥­', 'æˆ˜å£«', 0, 0, 'ç¬å‘', 'æ¶ˆè€—ç”Ÿå‘½é€ æˆä¼¤å®³', 'BLOOD_SACRIFICE', 12, 0, 0);
                card.healthCost = 2;
                return card.healthCost === 2;
            });

            runTest('èƒ½é‡æ¶ˆè€—é™ä½', () => {
                const character = new Character('æµ‹è¯•', 'æˆ˜å£«');
                character.energyCostReduction = 1;
                const result = character.consumeEnergy(3);
                return result && character.currentEnergy === 7; // 10 - (3-1) = 8
            });

            log('=== é«˜çº§åŠŸèƒ½æµ‹è¯•å®Œæˆ ===', 'info');
        }

        function testPerformance() {
            log('=== å¼€å§‹æ€§èƒ½æµ‹è¯• ===', 'info');
            
            runTest('å¤§é‡å¡ç‰Œå¤„ç†', () => {
                const startTime = performance.now();
                const cards = [];
                for (let i = 0; i < 1000; i++) {
                    cards.push(new Card(`å¡ç‰Œ${i}`, 'æˆ˜å£«', 1, 0, 'ç¬å‘', 'æµ‹è¯•æ•ˆæœ'));
                }
                const endTime = performance.now();
                return (endTime - startTime) < 100; // åº”è¯¥åœ¨100mså†…å®Œæˆ
            });

            runTest('æ¸¸æˆçŠ¶æ€æ›´æ–°æ€§èƒ½', () => {
                const gameState = new GameState();
                const startTime = performance.now();
                for (let i = 0; i < 100; i++) {
                    gameState.update();
                }
                const endTime = performance.now();
                return (endTime - startTime) < 50; // åº”è¯¥åœ¨50mså†…å®Œæˆ
            });

            log('=== æ€§èƒ½æµ‹è¯•å®Œæˆ ===', 'info');
        }

        function testErrorHandling() {
            log('=== å¼€å§‹é”™è¯¯å¤„ç†æµ‹è¯• ===', 'info');
            
            runTest('æ— æ•ˆå¡ç‰Œå¤„ç†', () => {
                try {
                    const card = new Card('', '', -1, -1, '', '');
                    return true; // åº”è¯¥ä¸ä¼šæŠ›å‡ºå¼‚å¸¸
                } catch (error) {
                    return false;
                }
            });

            runTest('ç©ºç‰Œç»„å¤„ç†', () => {
                const gameState = new GameState();
                gameState.playerDeck = [];
                gameState.playerDiscardPile = [];
                gameState.drawCards(gameState.playerDeck, gameState.playerHand, 1, true);
                return gameState.playerHand.length === 0; // åº”è¯¥æ— æ³•æŠ½ç‰Œ
            });

            runTest('æ— æ•ˆè§’è‰²çŠ¶æ€', () => {
                const character = new Character('æµ‹è¯•', 'æˆ˜å£«');
                character.currentHealth = -10;
                return character.isDead(); // åº”è¯¥è¿”å›true
            });

            log('=== é”™è¯¯å¤„ç†æµ‹è¯•å®Œæˆ ===', 'info');
        }

        function runAllTests() {
            log('ğŸš€ å¼€å§‹è¿è¡Œæ‰€æœ‰æµ‹è¯•...', 'info');
            testResults = { total: 0, passed: 0, failed: 0, tests: [] };
            
            // è¿è¡Œæ‰€æœ‰æµ‹è¯•
            testCoreSystems();
            testCharacterSystem();
            testCardSystem();
            testCastingSystem();
            testStealthSystem();
            testHeroSkills();
            testGameMechanics();
            testTimeBasedSystems();
            testUIComponents();
            testStatusEffects();
            testAdvancedFeatures();
            testPerformance();
            testErrorHandling();
            
            const successRate = (testResults.passed / testResults.total * 100).toFixed(1);
            log(`ğŸ‰ æ‰€æœ‰æµ‹è¯•å®Œæˆï¼æˆåŠŸç‡: ${successRate}%`, 'success');
            
            if (testResults.failed === 0) {
                log('ğŸŠ æ­å–œï¼æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡äº†ï¼', 'success');
            } else {
                log(`âš ï¸ æœ‰ ${testResults.failed} ä¸ªæµ‹è¯•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç›¸å…³åŠŸèƒ½`, 'error');
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        window.addEventListener('load', () => {
            log('ğŸ“‹ æœ€ç»ˆåŠŸèƒ½éªŒè¯æµ‹è¯•é¡µé¢å·²åŠ è½½', 'info');
            log('ç‚¹å‡»"è¿è¡Œæ‰€æœ‰æµ‹è¯•"æŒ‰é’®å¼€å§‹å…¨é¢æµ‹è¯•', 'info');
            updateTestResults();
        });
    </script>
</body>
</html> 