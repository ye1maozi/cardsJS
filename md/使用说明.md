# 卡牌对战游戏 - 使用说明

## 快速开始

### 方法一：直接打开（推荐用于测试）
1. 直接双击 `index.html` 文件
2. 游戏会自动使用默认配置启动
3. 所有新功能都可以正常使用

### 方法二：使用本地服务器（推荐用于开发）
1. 在项目根目录启动本地服务器：
   ```bash
   # 使用Python
   python -m http.server 8080
   
   # 或使用Node.js
   npx http-server -p 8080
   ```
2. 在浏览器中访问 `http://localhost:8080/index.html`
3. 游戏会尝试加载CSV配置文件，如果失败则使用默认配置

## 新功能说明

### 1. 角色属性系统
- **战士**：高生命值(35)，高强度，适合近战
- **法师**：高能量值(12)，高精神，适合法术
- **盗贼**：高敏捷，适合快速攻击
- **牧师**：生命恢复，适合治疗

### 2. 吟唱系统
- **火球术**：1秒吟唱，9点伤害
- **奥术冲击**：2秒吟唱，消耗所有能量
- 吟唱期间会显示进度条
- 吟唱可以被中断

### 3. 状态效果
- **中毒**：持续造成伤害
- **减速**：降低敏捷属性
- **潜行**：隐身状态，攻击时退出

### 4. 新卡牌效果
- **毒刃**：造成伤害并施加中毒
- **伏击**：需要潜行状态，高伤害
- **疾跑**：抽3张卡，随机丢弃1张
- **潜行**：进入潜行状态

## 游戏操作

### 基本操作
1. **使用卡牌**：点击手牌中的卡牌
2. **结束回合**：点击"结束回合"按钮
3. **新游戏**：点击"新游戏"按钮

### 特殊操作
- **吟唱卡牌**：点击后开始吟唱，等待完成
- **状态效果**：自动显示在角色下方
- **能量管理**：注意能量消耗和恢复

## 错误处理

### CORS错误（正常现象）
当直接打开HTML文件时，会看到CORS错误：
```
Access to fetch at 'file:///D:/ws/csharpcur/js/cards.csv' from origin 'null' has been blocked by CORS policy
```

**这是正常现象**，游戏会自动使用默认配置，所有功能都能正常工作。

### 解决方案
1. **忽略错误**：游戏功能完全正常
2. **使用服务器**：启动本地服务器避免CORS错误
3. **查看警告**：控制台会显示"使用默认配置"的提示

## 测试功能

### 测试页面
打开 `test/test-new-features.html` 可以测试：
- 角色属性系统
- 吟唱系统
- 状态效果系统
- 卡牌效果

### 测试方法
1. 点击各个测试按钮
2. 观察日志输出
3. 验证功能正确性

## 技术特性

### 兼容性
- ✅ 现代浏览器（Chrome、Firefox、Safari、Edge）
- ✅ 本地文件访问
- ✅ HTTP服务器访问
- ✅ 移动设备（响应式设计）

### 性能
- ✅ 60FPS游戏循环
- ✅ 实时状态更新
- ✅ 内存管理优化
- ✅ 错误处理机制

### 扩展性
- ✅ 模块化设计
- ✅ 配置系统
- ✅ 插件架构
- ✅ 版本控制

## 故障排除

### 游戏无法启动
1. 检查浏览器控制台错误
2. 确保所有JS文件存在
3. 尝试刷新页面

### 卡牌效果异常
1. 检查卡牌配置
2. 查看控制台警告
3. 重新加载游戏

### 性能问题
1. 关闭其他浏览器标签
2. 检查浏览器内存使用
3. 重启浏览器

## 版本信息

- **当前版本**：v1.4.0
- **更新日期**：2024年
- **主要功能**：角色属性、吟唱系统、状态效果
- **兼容性**：向后兼容v1.1.0

## 联系支持

如果遇到问题，请：
1. 查看控制台错误信息
2. 检查浏览器版本
3. 尝试不同的访问方式
4. 参考测试页面验证功能

---

**享受游戏！** 🎮 