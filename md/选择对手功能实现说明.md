# 选择对手功能实现说明

## 功能概述
在游戏开始前添加选择对手环节，玩家可以从多个不同的monster中选择要挑战的对手，每个对手都有独特的属性和特点。

## 版本更新
- 将游戏版本从 v1.8.0 更新到 v2.0.0
- 更新了所有相关配置文件中的版本号

## 实现内容

### 1. 版本号更新
更新了以下文件中的版本号：
- `js/ConfigData.js` - GameVersion: "2.0.0"
- `js/ConfigManager.js` - GameVersion: "2.0.0"  
- `cfg/game_config.csv` - GameVersion,2.0.0,游戏版本

### 2. 选择对手界面
在 `js/main.js` 中实现了选择对手功能：

#### 主要函数：
- `showOpponentSelection()` - 显示选择对手界面
- `startGameWithOpponent(monsterConfig)` - 使用选定的对手开始游戏

#### 界面特点：
- 网格布局显示所有可用的monster
- 每个monster卡片显示：
  - 名称和职业
  - 生命值、能量、难度等级
  - 详细描述
  - 选择按钮
- 支持返回按钮回到开始界面

### 3. CSS样式设计
在 `css/style.css` 中添加了选择对手界面的样式：

#### 主要样式类：
- `.opponent-grid` - 对手网格布局
- `.opponent-card` - 对手卡片样式
- `.opponent-header` - 对手头部信息
- `.opponent-stats` - 对手属性统计
- `.opponent-description` - 对手描述
- `.select-opponent-btn` - 选择按钮

#### 设计特点：
- 响应式网格布局
- 悬停效果和动画
- 渐变色彩边框
- 毛玻璃效果背景
- 移动端适配

### 4. 角色系统增强
修改了 `js/Character.js`：
- 在构造函数中添加了 `monsterConfig` 参数
- 保存monster配置到角色实例中

修改了 `js/GameState.js`：
- 在创建电脑角色时传递monster配置
- 确保monster属性正确应用到角色

### 5. UI信息显示
在 `js/GameUI.js` 中添加了：
- `showOpponentInfo()` 方法 - 在游戏开始时显示对手信息
- 在游戏日志中显示对手名称、职业、难度和描述

## Monster配置数据
当前包含的monster：

1. **哥布林战士** (战士) - 难度: ★
   - 生命值: 30, 能量: 8
   - 擅长近战攻击

2. **黑暗法师** (法师) - 难度: ★★
   - 生命值: 22, 能量: 12
   - 掌握毁灭性法术

3. **影刺客** (盗贼) - 难度: ★★
   - 生命值: 25, 能量: 10
   - 擅长潜行和毒药

4. **治疗牧师** (牧师) - 难度: ★
   - 生命值: 35, 能量: 10
   - 擅长治疗和防护

5. **狂战士** (战士) - 难度: ★★★
   - 生命值: 40, 能量: 8
   - 不惜一切代价战斗

6. **元素法师** (法师) - 难度: ★★★
   - 生命值: 20, 能量: 15
   - 掌握元素魔法

7. **潜行盗贼** (盗贼) - 难度: ★★
   - 生命值: 28, 能量: 10
   - 精通潜行

8. **战斗牧师** (牧师) - 难度: ★★
   - 生命值: 38, 能量: 10
   - 既能治疗又能战斗

## 测试验证
创建了测试文件 `test/test-opponent-selection.html`：
- 测试选择对手界面显示
- 测试Monster配置转换
- 测试游戏启动功能

## 使用流程
1. 用户点击"开始游戏"
2. 显示选择对手界面，列出所有可用的monster
3. 用户选择想要挑战的对手
4. 显示加载界面，准备与选定对手的战斗
5. 进入游戏，在游戏日志中显示对手信息

## 技术特点
- 完全响应式设计
- 流畅的动画效果
- 清晰的视觉层次
- 直观的用户交互
- 完整的错误处理

## 相关文件
- `js/main.js` - 主要功能实现
- `css/style.css` - 界面样式
- `js/Character.js` - 角色系统增强
- `js/GameState.js` - 游戏状态管理
- `js/GameUI.js` - UI信息显示
- `js/ConfigData.js` - Monster配置数据
- `test/test-opponent-selection.html` - 测试文件 