<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>卡牌对战游戏</title>
    <link rel="stylesheet" href="css/style.css?v=3">

</head>
<body>
    <div class="game-container">
        <!-- 开始游戏界面 -->
        <div id="startScreen" class="start-screen">
            <div class="start-content">
                <h2>卡牌对战游戏</h2>
                <p>欢迎来到卡牌对战世界！</p>
                <div class="start-buttons">
                    <button id="startGameBtn" class="btn btn-primary">开始游戏</button>
                    <button id="startTowerBtn" class="btn btn-special">🗼 开始爬塔</button>
                    <button id="selectOpponentBtn" class="btn btn-secondary">选择对手</button>
                </div>
                <div class="game-info">
                    <p>版本: v3.0.0</p>
                    <p>按 R 键重新开始 | 按 S 键保存 | 按 L 键加载</p>
                </div>
            </div>
        </div>

        <!-- 游戏状态栏 -->
        <div class="game-status" style="display: none;">
            <!-- 左侧：电脑状态 -->
            <div class="computer-status">
                <div class="status-item">
                    <span class="label">电脑生命:</span>
                    <span id="computerHealth" class="value">30</span>
                    <span id="computerHealthPercent" class="percent">100%</span>
                </div>
                <div class="status-item">
                    <span class="label">电脑护甲:</span>
                    <span id="computerArmor" class="value">0</span>
                </div>
                <div class="status-item">
                    <span class="label">电脑能量:</span>
                    <span id="computerEnergy" class="value">3</span>
                    <span id="computerEnergyPercent" class="percent">100%</span>
                </div>
                <div class="status-item">
                    <span class="label">英雄技能:</span>
                    <div id="computerHeroSkill" class="hero-skill-display">
                        <span class="skill-name">-</span>
                        <span class="skill-cooldown">-</span>
                    </div>
                </div>
                <!-- 电脑牌堆信息 - 2x2网格 -->
                <div class="deck-info-grid">
                    <div class="deck-item">
                        <span class="deck-label">牌组</span>
                        <span id="computerDeckCount" class="deck-value">12</span>
                    </div>
                    <div class="deck-item">
                        <span class="deck-label">弃牌堆</span>
                        <span id="computerDiscardCount" class="deck-value">0</span>
                    </div>
                    <div class="deck-item">
                        <span class="deck-label">手牌</span>
                        <span id="computerHandCount" class="deck-value">0</span>
                    </div>
                    <div class="deck-item">
                        <span class="deck-label">消耗堆</span>
                        <span id="computerExhaustCount" class="deck-value">0</span>
                    </div>
                </div>
                <!-- 电脑属性信息 - 5个属性竖排显示 -->
                <div class="attributes-grid">
                    <div class="attribute-item">
                        <span class="attribute-label">力量</span>
                        <span id="computerStrength" class="attribute-value">1</span>
                    </div>
                    <div class="attribute-item">
                        <span class="attribute-label">敏捷</span>
                        <span id="computerAgility" class="attribute-value">1</span>
                    </div>
                    <div class="attribute-item">
                        <span class="attribute-label">精神</span>
                        <span id="computerSpirit" class="attribute-value">1</span>
                    </div>
                    <div class="attribute-item">
                        <span class="attribute-label">生命恢复</span>
                        <span id="computerHealthRegen" class="attribute-value">0</span>
                    </div>
                    <div class="attribute-item">
                        <span class="attribute-label">能量恢复</span>
                        <span id="computerEnergyRegen" class="attribute-value">1</span>
                    </div>
                </div>
            </div>
            
            <!-- 中间：游戏时间和倒计时 -->
            <div class="center-status">
                <div class="game-time">
                    <span id="turnInfo">游戏时间: 0.0秒</span>
                </div>
                
                <!-- 倒计时显示区域 -->
                <div class="countdown-display">
                    <div class="countdown-item">
                        <span class="countdown-label">抽卡倒计时:</span>
                        <span id="drawCountdown" class="countdown-value">3.0s</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-label">回蓝倒计时:</span>
                        <span id="energyCountdown" class="countdown-value">1.0s</span>
                    </div>
                </div>
            </div>
            
            <!-- 右侧：玩家状态 -->
            <div class="player-status">
                <div class="status-item">
                    <span class="label">玩家生命:</span>
                    <span id="playerHealth" class="value">30</span>
                    <span id="playerHealthPercent" class="percent">100%</span>
                </div>
                <div class="status-item">
                    <span class="label">玩家护甲:</span>
                    <span id="playerArmor" class="value">0</span>
                </div>
                <div class="status-item">
                    <span class="label">玩家能量:</span>
                    <span id="playerEnergy" class="value">3</span>
                    <span id="playerEnergyPercent" class="percent">100%</span>
                </div>
                <!-- 玩家英雄技能按钮 -->
                <button id="heroSkillBtn" class="btn btn-primary hero-skill-btn">英雄技能</button>
                <!-- 玩家牌堆信息 - 2x2网格 -->
                <div class="deck-info-grid">
                    <div class="deck-item">
                        <span class="deck-label">牌组</span>
                        <span id="playerDeckCount" class="deck-value">12</span>
                    </div>
                    <div class="deck-item">
                        <span class="deck-label">弃牌堆</span>
                        <span id="playerDiscardCount" class="deck-value">0</span>
                    </div>
                    <div class="deck-item">
                        <span class="deck-label">手牌</span>
                        <span id="playerHandCount" class="deck-value">0</span>
                    </div>
                    <div class="deck-item">
                        <span class="deck-label">消耗堆</span>
                        <span id="playerExhaustCount" class="deck-value">0</span>
                    </div>
                </div>
                <!-- 玩家属性信息 - 5个属性竖排显示 -->
                <div class="attributes-grid">
                    <div class="attribute-item">
                        <span class="attribute-label">力量</span>
                        <span id="playerStrength" class="attribute-value">1</span>
                    </div>
                    <div class="attribute-item">
                        <span class="attribute-label">敏捷</span>
                        <span id="playerAgility" class="attribute-value">1</span>
                    </div>
                    <div class="attribute-item">
                        <span class="attribute-label">精神</span>
                        <span id="playerSpirit" class="attribute-value">1</span>
                    </div>
                    <div class="attribute-item">
                        <span class="attribute-label">生命恢复</span>
                        <span id="playerHealthRegen" class="attribute-value">0</span>
                    </div>
                    <div class="attribute-item">
                        <span class="attribute-label">能量恢复</span>
                        <span id="playerEnergyRegen" class="attribute-value">1</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 游戏区域 -->
        <div class="game-area" style="display: none;">
            <!-- 中央区域 -->
            <div class="center-area">
                <div class="game-log" id="gameLog">
                    <div class="log-entry">等待开始游戏...</div>
                </div>
            </div>

            <!-- 下方区域：电脑和玩家并排 -->
            <div class="bottom-areas">
                <!-- 电脑区域 -->
                <div class="computer-area">
                    <!-- 电脑状态效果 - 放在最上方 -->
                    <div class="computer-effects" id="computerEffects">
                        <!-- 电脑状态效果 -->
                    </div>
                    <div class="computer-field" id="computerField">
                        <!-- 电脑场上的卡牌 -->
                    </div>
                </div>

                <!-- 玩家区域 -->
                <div class="player-area">
                    <!-- 玩家状态效果 - 放在最上方 -->
                    <div class="player-effects" id="playerEffects">
                        <!-- 玩家状态效果 -->
                    </div>
                    <div class="player-hand" id="playerHand">
                        <!-- 玩家手牌 -->
                    </div>
                    <div class="player-field" id="playerField">
                        <!-- 玩家场上的卡牌 -->
                    </div>
                </div>
            </div>
        </div>

        <!-- 新游戏按钮 - 网页底部 -->
        <div class="bottom-controls">
            <button id="newGameBtn" class="btn btn-secondary">新游戏</button>
        </div>

        <!-- 游戏结束对话框 -->
        <div id="gameOverModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h2 id="gameOverTitle">游戏结束</h2>
                <p id="gameOverMessage"></p>
                <button id="restartBtn" class="btn btn-primary">重新开始</button>
                <button id="closeModalBtn" class="btn btn-secondary">关闭</button>
            </div>
        </div>
    </div>

    <!-- JavaScript文件 - 优化加载方式 -->
    <script src="js/ConfigData.js?v=3"></script>
    <script src="js/Character.js?v=3"></script>
    <script src="js/CastingSystem.js?v=3"></script>
    <script src="js/Card.js?v=3"></script>
    <script src="js/CardConfig.js?v=3"></script>
    <script src="js/ConfigManager.js?v=3"></script>
    <script src="js/ConfigValidator.js?v=3"></script>
    <script src="js/HeroSkill.js?v=3"></script>
    <script src="js/BotPlayer.js?v=3"></script>
    <script src="js/MonsterConfigManager.js?v=3"></script>
    <script src="js/TowerConfigManager.js?v=3"></script>
    <script src="js/TowerSystem.js?v=3"></script>
    <!-- UI管理器 -->
    <script src="js/StartUI.js?v=3"></script>
    <script src="js/OpponentSelectUI.js?v=3"></script>
    <script src="js/MapUI.js?v=3"></script>
    <script src="js/GameUI.js?v=3"></script>
    <!-- 游戏核心 -->
    <script src="js/GameState.js?v=3"></script>
    <script src="js/Game.js?v=3"></script>
    <script src="js/main.js?v=3"></script>
</body>
</html> 